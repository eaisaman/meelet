@import "compass/css3/transform";
@import "compass/css3/transition";
@import "bootstrap/mixins/gradients";
@import "global";
@import "simple-dropdown";

$activeColor: #669933;
$underlineLinearGradient: (rgb(235, 235, 235) 0%, rgb(235, 235, 235) 50%, #fff 100%);
$maxNumOfItems: 10;

@include simple-dropdown(null, configurationItemList, $activeColor);

@mixin widget-configurator($widgetConfiguratorId) {
    ##{$widgetConfiguratorId} {
        .configurationContent.expanded {
        }

        .configurationContent:not(.expanded) {
        }

        .configurationContent {
            color: $color;
            background: #fff;

            > .configurationBar {
                @include gradient-horizontal-three-colors(#6699CC, #99CCFF, 50%, #ECF0F1);

                span {
                    position: absolute;
                    top: 5px;
                    left: 0;
                    width: 100%;
                    height: 1em;
                    line-height: 1;
                    text-align: center;
                    font-weight: 600;
                    text-shadow: 0px 2px 3px #666;
                }
            }

            > .configurationPalette {
                background: #fff;
                border: 1px solid $borderColor;

                @include box-shadow(0 4px 3px #555);

                > .configurationPane {
                    position: relative;
                    float: left;
                    width: calc(100% - 0.2em);
                    height: 2em;
                    background: #fff;

                    &:after {
                        position: absolute;
                        right: 0;
                        bottom: 0;
                        content: '';
                        width: 100%;
                        height: 2px;

                        @include background(linear-gradient(left, $underlineLinearGradient));
                    }

                    > .input-group {
                        top: calc(50% - 0.75em);
                    }

                    $i: $maxNumOfItems;
                    @while $i > 0 {
                        &.list:nth-of-type(#{$i}) {
                            z-index: $maxNumOfItems - $i + 3;
                        }
                        $i: $i - 1;
                    }

                    .configurationItemCheckBox {
                        > div {
                            left: 50%;
                        }
                    }

                    .configurationItemNumber {
                        input {
                            &::-webkit-inner-spin-button,
                            &::-webkit-outer-spin-button {
                                -webkit-appearance: none;
                                margin: 0;
                            }

                            position: absolute;
                            left: 0;
                            top: 0;
                            width: calc(100% - 2em);
                            height: 2em;
                        }
                    }
                }
            }
        }
    }
}